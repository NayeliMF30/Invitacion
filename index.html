<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invitación</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .container {
            position: relative;
            width: 100%;
            max-width: 400px;
            text-align: center;
        }

        .video-portada {
            display: block;
            width: 100%;
        }

        .sobrecom {
            position: absolute;
            bottom: 400px;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 300px;
            cursor: pointer;
            opacity: 0;
            transition: opacity 2s ease-in;
        }

        .btn-container {
            margin-top: 20px;
            display: flex;
            justify-content: space-around;
        }

        .btn-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            border: none;
            background-color: transparent;
        }

        .btn-icon img {
            width: 50px;
            height: 45px;
        }

        .btn-icon span {
            margin-top: 5px;
            font-style: italic;
            color: black;
            font-size: 20px;
        }

        #confirmacionBtns {
            display: none;
            margin-top: 20px;
        }

        .confirmacion-btn {
            margin: 0 10px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }

        .speaker-icon {
    position: fixed;
    top: 10px;
    right: 15px;
    width: 40px;
    height: 40px;
    cursor: pointer;
    opacity: 0.5; /* Ajusta la transparencia, 1 es opaco y 0 es completamente transparente */
}

.speaker-icon:hover {
    opacity: 1; /* Para que el botón se vea completamente opaco cuando se pasa el cursor por encima */
}

        /* Ocultar el video inicial al hacer clic en el sobre */
        #invideo {
            display: none;
            width: 100%;
        }

        /* Ocultar los botones al reproducir el video */
        .btn-container.hidden, .sobrecom.hidden {
            display: none;
        }
    </style>

    <script>
        // Función para hacer aparecer la imagen del sobre
        window.onload = function() {
            document.querySelector('.sobrecom').style.opacity = 1; // Hace visible el sobre
        }

        // Función para mostrar los botones de confirmación
        function mostrarOpcionesConfirmacion() {
            document.getElementById('confirmacionBtns').style.display = 'flex';
        }

        // Función para redirigir a WhatsApp según el botón presionado y ocultar los botones
        function confirmarA(nombre) {
            document.getElementById('confirmacionBtns').style.display = 'none';
            if (nombre === 'nayeli') {
                window.open('https://wa.me/5532359310?text=Hola!%20Confirmo%20mi%20asistencia', '_blank');
            } else if (nombre === 'david') {
                window.open('https://wa.me/5519647421?text=Hola!%20Confirmo%20mi%20asistencia', '_blank');
            }
        }

        // Función para alternar la reproducción de música
        function toggleMusic() {
            var audio = document.getElementById('background-audio');
            var speakerIcon = document.getElementById('speakerIcon');

            if (audio.paused) {
                audio.play();
                speakerIcon.src = "sonido.jpg"; // Cambia a icono de sonido activado
            } else {
                audio.pause();
                speakerIcon.src = "silencio.jpg"; // Cambia a icono de sonido desactivado
            }
        }

        // Función para reproducir el video "invideo.mp4" al hacer clic en el sobre
        function reproducirVideo() {
            // Oculta el video de portada
            document.querySelector('.video-portada').style.display = 'none';

            // Muestra el nuevo video
            document.getElementById('invideo').style.display = 'block';
            document.getElementById('invideo').play();

            // Oculta los botones de Confirmación, Ubicación y la imagen del sobre
            document.querySelector('.btn-container').classList.add('hidden');
            document.querySelector('.sobrecom').classList.add('hidden');
        }

        // Función que regresa al video de portada "inicio.mp4" al terminar "invideo.mp4"
        function regresarAPortada() {
            // Ocultar el video "invideo"
            document.getElementById('invideo').style.display = 'none';
            document.getElementById('invideo').pause();

            // Mostrar el video de portada de nuevo
            document.querySelector('.video-portada').style.display = 'block';

            // Mostrar los botones de Confirmación y Ubicación nuevamente
            document.querySelector('.btn-container').classList.remove('hidden');
            document.querySelector('.sobrecom').classList.remove('hidden');
        }
    </script>
</head>
<body>
    <div class="container">

        <!-- Bocina para controlar la música -->
        <img src="silencio.jpg" alt="Control de sonido" class="speaker-icon" id="speakerIcon" onclick="toggleMusic()">

        <!-- Reproductor de audio -->
        <audio id="background-audio" loop>
            <source src="metallica.mp3" type="audio/mpeg">
            Tu navegador no soporta la reproducción de audio.
        </audio>

        <!-- Video de la portada -->
        <video class="video-portada" autoplay muted loop>
            <source src="Inicio.mp4" type="video/mp4">
            Tu navegador no soporta el elemento de video.
        </video>
        
        <!-- Video que se mostrará al hacer clic en el sobre -->
        <video id="invideo" controls onended="regresarAPortada()">
            <source src="invideo.mp4" type="video/mp4">
            Tu navegador no soporta el elemento de video.
        </video>

        <!-- Botones de confirmación y ubicación -->
        <div class="btn-container">
            <!-- Botón para mostrar opciones de confirmación -->
            <button class="btn-icon" onclick="mostrarOpcionesConfirmacion()">
                <img src="confirma.png" alt="Confirmación">
                <span>Confirmación</span>
            </button>

            <!-- Botón de ubicación (Google Maps) -->
            <a href="https://maps.app.goo.gl/nyvg3cifDkp9WoXC7" class="btn-icon" target="_blank">
                <img src="ubi.png" alt="Ubicación">
                <span>Ubicación</span>
            </a>
        </div>

        <!-- Botones para confirmar a Nayeli o David -->
        <div id="confirmacionBtns">
            <button class="confirmacion-btn btn btn-success" onclick="confirmarA('nayeli')">Confirmar a Nayeli</button>
            <button class="confirmacion-btn btn btn-success" onclick="confirmarA('david')">Confirmar a David</button>
        </div>
    </div>

    <!-- Imagen del sobre con efecto de aparición -->
        <img src="sobrecom.png" alt="Sobre" class="sobrecom img-fluid" onclick="reproducirVideo()">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
